<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PenMaker</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/pure-min.css" rel="stylesheet">
    <link href="css/forms-min.css" rel="stylesheet">
    <link href="css/grids-responsive-min.css" rel="stylesheet">
  </head>
  <body>

    <div class="container">
      <!-- Nav tabs -->
      <ul class="nav nav-tabs" role="tablist">
        <li class="long" class="active"><a href="#tab-startpen" role="tab" data-toggle="tab">QuickStart PenStation</a></li>
        <li><a href="#tab-regpen" role="tab" data-toggle="tab">Pen Making</a></li>
        <li><a href="#tab-details" role="tab" data-toggle="tab">Detail</a></li>
        <li><a href="#tab-preferences" id="tab-preferences-link" role="tab" data-toggle="tab">Preferences</a></li>
      </ul>

      <div class="tab-content">
        <!-- Pen Maker/QuickStart pane -->
        <div class="tab-pane active" id="tab-startpen">

            <h2 class="long" style="color:darkblue"><strong>Quick Start for Pen Station Package</strong>
                <div class="container">
                   <img src="img/sample-pen-vs-labeled.png">
                   <img src="img/twister-labeled.png">
                   <img src="img/twister-labeled.png">
                </div>	
            </h2>

            <p>This App provides special functions for Pen Making using a Rotary Indexer. This particular page-tab is a <strong>Quick-Start for those who purchased the full "Pen Station Package" from Handibot</strong>  (making use of the blanks that come preloaded and ready to run in your Accessory Base). The second tab is for General Pen Making projects as well as for setting up to do pen making and aligning the Indexer in the Accessory Base. Additional tabs provide more detailed information and preference-setting for your pen-making work.</p>
            <p>If you are new to Handibotting, the action of pen making will make a lot more sense if you've first familiarized yourself with the operation of your Handibot. Take the "Tour", get used to the controls, run the test file, and maybe try a few things with the tool before you set it up on your accessory base to start pen-making projects.</p>
                <p> </p>
            <hr width = "90%" noshade>
            <div>
              <span class="label label-warning"> Pen Station Users: START a Pen Making Project</span>
                <p> </p>
                <p>Use the Home-Tool Button (below) to set up your tool for creating pens in the Handibot Pen Station Package. The function will automatically <strong>Home</strong> your Handibot using the normal homing routine (Macro 3); then it uses this App's pen-making offsets to <strong>center the X axis</strong> over the pen mandrel and <strong>position the tool for setting your cutter to the correct Z height</strong>. After you've put the router in the mount and positioned the cutter, you'll <strong>set the Y location</strong> for the first blank.</p>
               	<p>(The App is set up for the Pen Station Projects, but later on you can change the positioning for your own projects in the Preferences Tab.)</p>
      			<p><strong>* Before Homing, unplug and remove the Router from the router-bracket and set to one side (if you have not already done so).</strong></p>
      			<p><strong> In all of the following procedures, Click "Resume" to continue to the next step, unless you need to Quit from the procedure.</strong></p>

              <h3><a class="btn btn-success btn-lg" id="call-run-homePen"> HOME TOOL for PENS </a> <span> Set the Home Location for X, Y, and Z Axes for Pen Carving</span></h3>

      			<p><strong>* After Homing, slid the Router into the bracket and gently lower until cutter-tip just touches mandrel head. Tighten into position (bottom screw first), then plug the Router back in.</strong></p>
      			<p><strong> You're ready to position tool for cutting the first blank.</strong></p>

              <h3><a class="btn btn-success" id="call-run-blank-1"> Position for Blank 1 </a><span>  Move to start Position for First Blank</span></h3>

            <hr width = "90%" noshade>
            </div>
            <div>
              <span class="label label-warning"> CUT the Project </span>
                <p class="long">After homing, you are ready to run your project, starting with the first blank. </p>
      			<p><strong> Now, SELECT your Project to start Pen Making!.</strong></p>

              <h3> The PROJECTS </h3>
              <h3><a class="btn btn-success" id="call-patriot"> Patriot Pen Project </a><a class="btn btn-success" id="call-twister"> Twister Project </a><a class="btn btn-success" id="call-monogram"> Monogram Project (sample lettering; see documentation)</a></h3>

      			<p><strong> Great. If all went well, you've machined your Pen Station Project.</strong></p>
            <hr width = "90%" noshade>
              <span class="label label-warning"> SIMPLE Finishing </span>
                <p> You're ready to do a little simple finishing.</p>
                <p> Release the clamps and pull the indexer board out to the ## stop so you will be able to conveniently apply Aussi Oil while spinning the the newly machined parts. Use a soft rag, start with a tablespoon of oil and apply over the spinning parts. Then apply more!</p>
      			<p><strong>* Click the next button to spin the indexer while you apply the finish. It will automatically spin about 50,000 degrees and back (3 minutes). Click again for more spinning ...</strong></p>

              <h3><a class="btn btn-success" id="call-spin-indexer"> Spin Indexer </a></h3>

      			<p><strong>* Congratulations! You've finished making a Pen Station Project.</strong></p>
                <p> Your imagination is the limit as you begin to explore your creative opportunities in pen making.</p>
            <hr width = "90%" noshade>
            <hr width = "90%" noshade>
            </div>  
        </div><!-- start pane -->


        <!-- Pen Maker/Regular pane -->
        <div class="tab-pane" id="tab-regpen">
            <h2 class="long" style="color:darkblue"><strong>Setting up for Pen Making Projects</strong>
                <div class="container-fluid">
                   <img width="90%" src="img/three-bill.jpg">
                </div>	
            </h2>
            <p class="long">This page provides general purpose setup and housekeeping functions for Pen-Making Projects. These will help with alignment and positioning your Handibot for pen-making. You can use the <strong>Short Form</strong> option (radio-button, below) for simplified access after you get experience with these functions.</p>
              <form id="doclength">
                <label for="long">Full</label>
                <input type="radio" name="doclength" id="long" value="long" checked="checked">
                <label>  </label>
                <label for="short">Short Form</label>
                <input type="radio" name="doclength" id="short" value="short">
              </form>
                <p> </p>
                <p> </p>
            <hr class="long" width = "90%" noshade>
            <div>
              <span class="long"><p><a class="btn btn-success btn-sm" id="install-pen-macros"> If you have not done so... CLICK HERE to Install Pen Making Macros </a></p> </span>
              
              <p><span class="label label-warning"> Start a Pen Making Project</span></p>
                <p class="long"> </p>

                <p class="long">Home the tool to start a pen-making project. The function will automatically <strong>Home</strong> your Handibot using the normal homing routine (Macro 3) and then it will use the tool's pen-making offsets to <strong>center the X axis</strong> over the pen mandrel and <strong>position the tool for setting your cutter to the correct Z height</strong>.</p> 

                <p class="long">This function assumes that you have used the Indexer Alignment tool, below, and that you have already installed the Macros for Pen-Making projects. Further, you can change the default positioning for these routines in the Preferences Tab. The Detail Tab describes how the various settings and routines all work together.</p>
      			<p><strong>* Before Homing, unplug and remove the Router from the router-bracket and set to one side (if you have not already done so).</strong></p>

              <h3><a class="btn btn-success btn-lg" id="call-run-homePen"> HOME TOOL for PENS </a> <span class="long"> Set the Home Location for X, Y, and Z Axes for Pen Carving</span></h3>

      			<p class="long"><strong>* After Homing, slide the Router into the bracket and gently lower until cutter-tip just touches mandrel head. Tighten into position (bottom screw first), then plug the Router back in.</strong></p>
      			<p class="long"><strong>* You're ready to position tool for cutting the first blank.</strong></p>
              <h3><a class="btn btn-success" id="call-run-blank-2"> Position for Blank 1 </a> <span class="long">  Move to start Position for First Blank</span></h3>
                <p class="long">The next button will take you to the default start position for the second blank. You will use this for cases where the toolpath files for the two blanks are separate.</p>
              <h3><a class="btn btn-success" id="call-run-blank-2"> Position for Blank 2 </a> <span class="long">  Move to start Position for Second Blank</span></h3>
            </div>
            <div>
              <hr class="long" width = "90%" noshade>
              <hr class="long" width = "90%" noshade>
              <span class="label label-warning"> OTHER Pen Making Help </span>
              <h3><a class="btn btn-success" id="call-cutterheight"> Position for Setting New Cutter </a> <span class="long"> Position Over Headstock to Set Cutter Z-Height</span></h3>
              <h3><a class="btn btn-success" id="call-safepark"> Move to SAFE Parking </a> <span class="long"> Make sure Cutter is Clear of Indexer</span></h3>
            </div>  
            <div>
              <hr class="long" width = "90%" noshade>
              <span class="label label-warning"> Indexer Alignment </span>
                <p class="long"> </p>
                <p class="long"> You may be just setting up an Indexer for Pen Making, your tool may have been jostled, the mounting of the Handibot or Indexer may be changed from the factory configuration, or something else may have caused the indexer and mandrel to go out of alignment. This routine will check centerline locations of the mandrel for you so you can evaluate whether everything is properly aligned. It will also determine the correct X and Z offsets for the mandre.</p>
                <p class="long">Before starting this routine, remove any fittings or bushings from the mandrel. Clamp the tailstock into working location. Then insert 1/4" alignment rod (solid drill rod) into the router. After the rod is in place, you will need to attach the aligator clips to the mandrel as indicated below. Then, use the Keypad to move the drill-rod to the indicated position with the tip about 1/4" below the mandrel. Now, click the Check Alignment button when you are ready.</p>
              <div  class="long" class="pure-g">
                <div class="pure-u-1 pure-u-md-1-2 pure-u-lg-1-3 image-container">
                  <div class="image-wrapper">
                    <img class='pure-img' id="align-mandrel" src="img/align-mandrel.jpg">
                  </div>
                </div>
              </div>  
              <h3><a class="btn btn-success btn-lg" id="call-c2"> Check Alignment of Indexer </a> <span class="long"> Check the Horizontal and Vertical Alignment of your Rotary Indexer </span></h3>
              <p class="long">If you are happy with the alignment, you can use the next button to update the settings for the X and Z offset positions of the mandrel. These are the settings that determine how the homing and cutter positioning routines will work. These values can be inspected and/or entered manually in the Preferences tab.</p>
              <h3><a class="btn btn-success" id="call-cutterheight"> Record Offset Values from Alignment </a> <span class="long"> Update the Positioning Information for Your Mandrel for Use in these Routines</span></h3>
            </div>  
            <div>
              <hr class="long" width = "90%" noshade>
              <hr width = "90%" noshade>
            </div>  
        </div><!-- regular pane -->


        <!-- Details Pane -->
        <div class="tab-pane" id="tab-details">
            <h2>Detailed Info on this App and Pen-Making Macros</h2>
            <p>This App is intended to help make the pen-making projects of Handibot's "Pen Station" easy to get started with. Additionally, you'll be able to modify settings and variables here so that you can continue to use much of the functionality with other pen projects of for automating your own pen production work. You don't really need any of these tools for using the indexer or making pens, but we think they help make some of the routine work such as aligning, setting up the tool, and positioning during pen carving more straightforward. And, they provide programming examples if you want to set up this kind of App for yourself.</p>

            <h2>Getting the Tool Aligned and Determining Offsets</h2>
            <p>The general strategy is to provide tools that help with aligning the indexer, or checking alignment, and then provide tools that help put the appropriate location "offsets" in place (moving the working zero locations) for running pen-carving files -- once set up, you can just turn your Handibot on, run the pen-making homing routine, and you are ready to cut.</p>
            
            <h3>Homing Tool for Pen Work</h3>
            The primary function for normal pen-making work flow is "Homing". Homing is always the starting point. The tool will first home in the normal fashion (using Macro 3). Then, it will use the stored offsets for pen making (created in the previous step) to shift the X and Z zero directly over the Rotary Indexer. The tool retains the Y zero from the initial zeroing, but uses temporary offsets from it to position the cutter over blanks. This system gets you in position for accurate pen-making and makes it possible to return to your exact position in a file if for some reason cutting is disrupted (e.g., power failure or cutter damage). And just a note, as you became aware in your initial Handibot Quick Start, Homing WILL MAKE SOME NOISE as the tool hits the END STOPS to locate it position.</p>

            <div>
              <hr class="long" width = "90%" noshade>
              <hr width = "90%" noshade>
            </div>  
        </div><!-- details pane -->


        <!-- Preferences Pane -->
        <div class="tab-pane" id="tab-preferences">
          <h2>Preference Settings for Pen Turning</h2>
	          <p>This page allows you to monitor and edit the special variables used for Pen Turning. The initial/default values are for the use with the Projects that come with the Pen Station Package from Handibot and should be correct for your Handibot if it was set up at the factory. If you have set up your own indexer for pen making, you will need to use the alignment functions on the "Pen Making" page to correctly set your variables.</p>
	          <p>Variable preferences are saved using a system of "persistent variables". That is, they will be remembered even when you turn off your tool and turn it back on. The default values for these variables are saved in Macro 60 and can be restored to their original values by running Macro 60.</p> 
	          <p>Make sure to hit the <strong> SAVE </strong> button after editing any these variables.</p>

	                <div class="form-group">
	                  <div class="col-sm-12 has-success" style="text-align: right;">
	                    <a class="btn btn-success btn-lg" id="pref-save">SAVE</a>&nbsp;&nbsp;<a href="#tab-details" class="btn btn-warning btn-lg" id="pref-cancel">CANCEL</a>
	                  </div>
	                </div>

       	    <!-- Responsive form for inputting preferences -->
	        <div class="row">
	             <div class="col-sm-7" style="margin-left: auto; margin-right: auto; text-align: left; ">
	              <form class="form-horizontal" id="form-jobs">
	              <h4>Key Variables for Pen Making </h4>
	              <p>These variables are used to set the X-axis location of the mandrel and the offset to the cutter tip, as well as the position for setting the cutter. </p>
	                <div class="form-group">
	                  <label for="pref-input-x-mandrel-offset" class="col-sm-3 control-label">x_mandrel_offset</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-x-mandrel-offset" value="4.00">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                <div class="form-group">
	                  <label for="pref-input-z-mandrel-offset" class="col-sm-3 control-label">z_mandrel_offset</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-z-mandrel-offset" value="3.50">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
                  <div class="form-group">
                    <label for="pref-input-ypullback" class="col-sm-3 control-label">y_mandrel_front_touch</label>
                    <div class="col-sm-9">
                      <div class="input-group has-success">
                        <input class="form-control num-input" id="pref-input-y-mandrel-front-touch" value="-2.00">
                        <span class="input-group-addon">in</span>
                      </div>
                    </div>
                  </div>
	              <h4>Other Settings for Pen Making (not set by alignment functions) </h4>
	              <p>Z distance from Touch-Off to Centerline (tool specific). </p>
	                  <div class="form-group">
	                  <label for="job-input-zlength" class="col-sm-3 control-label">z_topMandrel_toCenter</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-z-topmandrel-tocenter" value=".70">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
                <p> </p>
                <p>Variable used to Position for First and Second Blanks on Mandrel. </p>
	                <div class="form-group">
	                  <label for="job-input-zto-surf" class="col-sm-3 control-label">y_blank_1_front</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-y-blank-1-front" value="2.00">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                <div class="form-group">
	                  <label for="job-input-zto-surf" class="col-sm-3 control-label">y_blank_1_back</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-y-blank-1-back" value="4.00">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                <div class="form-group">
	                  <label for="job-input-zto-surf" class="col-sm-3 control-label">y_blank_2_front</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-y-blank-2-front" value="4.50">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                <div class="form-group">
	                  <label for="job-input-zto-surf" class="col-sm-3 control-label">y_blank_1_back</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-y-blank-1-back" value="6.50">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	              <h4>Variables for Setting a Parking Location </h4>
	              <p>Setting the location for move to a Park location. You might use this at the end of jobs. There is a button for it in the Fire-Up! App. </p>
	                  <div class="form-group">
	                  <label for="job-input-xpark" class="col-sm-3 control-label">X Park Location</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-x-park" value="3">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                <div class="form-group">
	                  <label for="job-input-ypark" class="col-sm-3 control-label">Y Park Location</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-y-park" value="7">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                <div class="form-group">
	                  <label for="job-input-zpark" class="col-sm-3 control-label">Z Park Location</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-z-park" value="1.5">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                
	                <div class="form-group">
	                  <div class="col-sm-12 has-success" style="text-align: right;">
	                    <a class="btn btn-success btn-lg" id="pref-save">SAVE</a>&nbsp;&nbsp;<a href="#tab-details" class="btn btn-warning btn-lg" id="pref-cancel">CANCEL</a>
	                  </div>
	                </div>
	              </form>
	             </div> 
	          </div> <!-- row -->
        </div> <!-- tab pane -->


      </div> <!-- tab content -->
    </div><!-- container -->

    <script src="js/lib/jquery.js"></script>
    <script src="js/lib/bootstrap.min.js"></script>
    <script src="js/lib/fabmo.js"></script>
  	<script type="text/javascript">
  		var fabmo = new FabMoDashboard();
  	</script>
    <script src="js/control_examples.js"></script>
    <script src="js/jobfile.js"></script>
    <script src="js/preferences.js"></script>
    <script src="js/helptab.js"></script>
    <script src="js/actions.js"></script>

    <script type="text/javascript">
        $(document).ready(function() {
           // Initially set Length short or long
              fabmo.getAppConfig(function(err,config){
              var doclength = config.doclength || "long";
              that = doclength;
              if(that==='short') {
                $('#short').prop("checked", true);
              }
              else {
                $('#long').prop("checked", true);
              }
              updateConsolidation();
  
           // Update Length
            $('#doclength').change(function(){
                that = $('input[name="doclength"]:checked').val();
                updateConsolidation();
              });
           // Prevent a stray enter key from inadvertently submitting a form (and setting the tool in motion!)
            $(window).keydown(function(event){
              if(event.keyCode == 13) {
                event.preventDefault();
                return false;
              }
            });
          });
        });
    </script>
  </body>
</html>
