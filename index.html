<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PenMaker</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/pure-min.css" rel="stylesheet">
    <link href="css/forms-min.css" rel="stylesheet">
    <link href="css/grids-responsive-min.css" rel="stylesheet">
  </head>
  <body>

    <div class="container">
      <!-- Nav tabs -->
      <ul class="nav nav-tabs" role="tablist">
        <li class="active"><a href="#tab-startpen" role="tab" data-toggle="tab">QuickStart PenStation</a></li>
        <li><a class="long" href="#tab-regpen" role="tab" data-toggle="tab">Pen Making</a></li>
        <li><a class="long" href="#tab-details" role="tab" data-toggle="tab">Detail</a></li>
        <li><a id="preference-tab-link" href="#tab-preferences" role="tab" data-toggle="tab">Preferences</a></li>
        <li><a id="config-tab-link" href="#tab-config" role="tab" data-toggle="tab">HELP</a></li>
      </ul>

      <div class="tab-content">
        <!-- Pen Maker/QuickStart pane -->
        <div class="tab-pane active" id="tab-startpen">
            <h2 class="long" style="color:darkblue"><strong>Quick Start for Pen Station Package</strong>
                 <div class="pure-u-2 pure-u-md-2-3 pure-u-lg-2-3 image-container">
                  <div class="image-wrapper">
                   <img class='pure-img' src="img/sample-pen-vs.png">
                  </div>
                 </div> 
            </h2>
            <p class="long">This App provides special functions for Pen Making using a Rotary Indexer. There are functions for running a Pen Making project as well as for setting up and aligning the tool. You can use the <strong>Short Form</strong> option, below, for a simplified view after you get experience with the functions. The secondary tabs provide more detailed information and preference setting.</p>
              <form id="doclength">
                <label for="long">Full</label>
                <input type="radio" name="doclength" id="long" value="long" checked="checked">
                <label>  </label>
                <label for="short">Short Form</label>
                <input type="radio" name="doclength" id="short" value="short">
              </form>
                <p> </p>
                <p> </p>
            <hr class="long" width = "90%" noshade>
            <div>
              <span class="label label-warning"> USE to Start a Pen Making Project</span>
                <p class="long"> </p>
                <p class="long">You can use this Home-Tool function to set-up your tool for creating pens in the Handibot Pen Station Package. It will also be useful in preparing for pen carving as you get more experienced and develop your own projects. The function will automatically <strong>Home</strong> your Handibot using the normal homing routine (Macro 3) and then it will use the tool's pen-making offsets to <strong>center the X axis</strong> over the pen mandrel, <strong>set the Y location</strong> for the first blank, and <strong>position the tool for setting your cutter to the correct Z height</strong>. The App is set up for the Pen Station Projects, but you can change the positioning for your own projects or production in the Preferences Tab. The Detail Tab describes how the various settings and routines all works.</p>
              <h3><a class="btn btn-success btn-lg" id="call-run-homePen"> HOME TOOL for PENS </a> <span class="long"> Set the Home Location for X, Y, and Z Axes for Pen Carving</span></h3>
                <p class="long">After running Home-Tool, you are ready to run the file for the first blank of your pen project. </p>
              <h3><a class="btn btn-success" id="call-run-blank-2"> Position for Blank 2 </a><span class="long">  Move to start Position for Second Blank</span></h3>
                <p class="long">Use Position-for-Blank-2 to Position Cutter for the second blank. </p>
            </div>
            <div>
              <hr class="long" width = "90%" noshade>
              <hr class="long" width = "90%" noshade>
              <span class="label label-warning"> OTHER Pen Making Help </span>
              <h3><a class="btn btn-success" id="call-cutterheight"> Position for Setting New Cutter </a><a class="btn btn-success" id="call-run-blank-1"> Position for Blank 1 </a><a class="btn btn-success" id="call-safepark"> Move to SAFE Parking </a></h3>
            </div>  
            <div>
              <hr class="long" width = "90%" noshade>
              <span class="label label-warning"> Maintenance and Alignment </span>
                <p class="long"> </p>
                <p class="long"> Your tool may have been jostled, the mounting of the Handibot or Indexer may be changed from the factory configuration, or something else may have caused the indexer and mandrel to go out of alignment. This routine will automatically check centerline locations of the mandrel for you so you can evaluate whether everything is properly aligned. First, remove any fittings or bushings from the mandrel and clamp the tailstock into working location. Then insert the 1/4" alignment rod (solid drill rod) into the router. After the rod is in place, you will need to attach the aligator clips to the mandrel as indicated below. Then use the Keypad to move the drill-rod to the indicated position with the tip about 1/4" below the mandrel. Click the Check Alignment button when you are ready.</p>
              <div  class="long" class="pure-g">
                <div class="pure-u-1 pure-u-md-1-2 pure-u-lg-1-3 image-container">
                  <div class="image-wrapper">
                    <img class='pure-img' id="align-mandrel" src="img/align-mandrel.jpg">
                  </div>
                </div>
              </div>  
              <h3><a class="btn btn-success btn-lg" id="call-c2"> Check Alignment of Indexer </a> <span class="long"> Check the Horizontal and Vertical Alignment of your Rotary Indexer </span></h3>
            </div>  
            <div>
              <hr class="long" width = "90%" noshade>
              <hr width = "90%" noshade>
             <span class="label label-warning"> SPECIALTY FUNCTIONS for Specific Need </span>
                <p class="long"> </p>
              <h3><a class="btn btn-success btn-lg" id="install-pen-macros"> Install Pen Making Macros </a> <span class="long"> Install or Re-install Macros for Pen Making Projects and Functions </span></h3>
            </div>  
        </div><!-- start pane -->

        <!-- Pen Maker/Regular pane -->
        <div class="tab-pane" id="tab-regpen">
                 <div class="pure-u-2 pure-u-md-2-3 pure-u-lg-2-3 image-container">
                  <div class="image-wrapper" style="display: inline-block;">
                   <img class='pure-img' src="img/sample-pen-vs.png">
            <h2 class="long" style="color:darkblue"><strong>Setting up for Pen Making Projects</strong>
            </h2>
                 </div>
                 </div>
<div class="container">
  <img src="img/sample-pen-vs.png" style="width:100%;">
  <div class="top-left">Top Left</div>
</div>         
            <p class="long">This App provides special functions for Pen Making using a Rotary Indexer. There are functions for running a Pen Making project as well as for setting up and aligning the tool. You can use the <strong>Short Form</strong> option, below, for a simplified view after you get experience with the functions. The secondary tabs provide more detailed information and preference setting.</p>
              <form id="doclength">
                <label for="long">Full</label>
                <input type="radio" name="doclength" id="long" value="long" checked="checked">
                <label>  </label>
                <label for="short">Short Form</label>
                <input type="radio" name="doclength" id="short" value="short">
              </form>
                <p> </p>
                <p> </p>
            <hr class="long" width = "90%" noshade>
            <div>
              <span class="label label-warning"> USE to Start a Pen Making Project</span>
                <p class="long"> </p>
                <p class="long">You can use this Home-Tool function to set-up your tool for creating pens in the Handibot Pen Station Package. It will also be useful in preparing for pen carving as you get more experienced and develop your own projects. The function will automatically <strong>Home</strong> your Handibot using the normal homing routine (Macro 3) and then it will use the tool's pen-making offsets to <strong>center the X axis</strong> over the pen mandrel, <strong>set the Y location</strong> for the first blank, and <strong>position the tool for setting your cutter to the correct Z height</strong>. The App is set up for the Pen Station Projects, but you can change the positioning for your own projects or production in the Preferences Tab. The Detail Tab describes how the various settings and routines all works.</p>
              <h3><a class="btn btn-success btn-lg" id="call-run-homePen"> HOME TOOL for PENS </a> <span class="long"> Set the Home Location for X, Y, and Z Axes for Pen Carving</span></h3>
                <p class="long">After running Home-Tool, you are ready to run the file for the first blank of your pen project. </p>
              <h3><a class="btn btn-success" id="call-run-blank-2"> Position for Blank 2 </a><span class="long">  Move to start Position for Second Blank</span></h3>
                <p class="long">Use Position-for-Blank-2 to Position Cutter for the second blank. </p>
            </div>
            <div>
              <hr class="long" width = "90%" noshade>
              <hr class="long" width = "90%" noshade>
              <span class="label label-warning"> OTHER Pen Making Help </span>
              <h3><a class="btn btn-success" id="call-cutterheight"> Position for Setting New Cutter </a><a class="btn btn-success" id="call-run-blank-1"> Position for Blank 1 </a><a class="btn btn-success" id="call-safepark"> Move to SAFE Parking </a></h3>
            </div>  
            <div>
              <hr class="long" width = "90%" noshade>
              <span class="label label-warning"> Maintenance and Alignment </span>
                <p class="long"> </p>
                <p class="long"> Your tool may have been jostled, the mounting of the Handibot or Indexer may be changed from the factory configuration, or something else may have caused the indexer and mandrel to go out of alignment. This routine will automatically check centerline locations of the mandrel for you so you can evaluate whether everything is properly aligned. First, remove any fittings or bushings from the mandrel and clamp the tailstock into working location. Then insert the 1/4" alignment rod (solid drill rod) into the router. After the rod is in place, you will need to attach the aligator clips to the mandrel as indicated below. Then use the Keypad to move the drill-rod to the indicated position with the tip about 1/4" below the mandrel. Click the Check Alignment button when you are ready.</p>
              <div  class="long" class="pure-g">
                <div class="pure-u-1 pure-u-md-1-2 pure-u-lg-1-3 image-container">
                  <div class="image-wrapper">
                    <img class='pure-img' id="align-mandrel" src="img/align-mandrel.jpg">
                  </div>
                </div>
              </div>  
              <h3><a class="btn btn-success btn-lg" id="call-c2"> Check Alignment of Indexer </a> <span class="long"> Check the Horizontal and Vertical Alignment of your Rotary Indexer </span></h3>
            </div>  
            <div>
              <hr class="long" width = "90%" noshade>
              <hr width = "90%" noshade>
             <span class="label label-warning"> SPECIALTY FUNCTIONS for Specific Need </span>
                <p class="long"> </p>
              <h3><a class="btn btn-success btn-lg" id="install-pen-macros"> Install Pen Making Macros </a> <span class="long"> Install or Re-install Macros for Pen Making Projects and Functions </span></h3>
            </div>  
        </div><!-- regular pane -->

        <!-- Details Pane -->
        <div class="tab-pane" id="tab-details">
            <h2>Detailed Info on this App and Pen-Making Macros</h2>
            <p>This App is intended to help make the pen-making projects of Handibot's "Pen Station" easy to get started with. Additionally, you'll be able to modify settings and variables here so that you can continue to use much of the functionality with other pen projects of for automating your own pen production work. You don't really need any of these tools for using the indexer or making pens, but we think they help make some of the routine work or aligning, setting up the tool, and positioning during pen carving more straightforward.</p>
            <p>The general strategy is to provide tools that help with aligning the indexer, or checking alignment, and then provide tools that help put the appropriate location "offsets" in place (moving the working zero locations) for running pen-carving files. First, we'll assume the tool and indexer are set up correctly and just discuss the normal flow of work to do one of the pen projects.</p>
            <p>The actions done for pen making will make a lot more sense if you've familiarized yourself with the operation of your Handibot. Take the "Tour", run the test file, and maybe try a few things with the tool before you set it up on your accessory base to start pen making.</p>
            <h3>Home Tool for Pen Work</h3>
            	<p>Homing the Tool is the first thing that you will usually want to do after powering your tool up. With pen making and the special "Homing" function in this App, the tool will first home in the normal fashion (using Macro#3) then, it will use the stored offsets for pen making to shift the X and Z zero directly over the Rotary Indexer. The tool retains the Y zero, but uses temporary offsets from it to position over blanks. This system makes it possible to return to your exact position is a file if for some reason cutting is disrupted (e.g., power failure or cutter damage). As you saw in the initial work with Handibot, Homing WILL MAKE SOME NOISE as the tool hits the END STOPS to locate it position.</p>
            	

              <p>The back-off distance that is used in this function set at the factory and saved as a persistant variable. As you get more experienced, you may want to change the back-off distance in order to move your zero locations to better suit your work, for a particular project, or just to make a slight adjustment of your zero location. You can modify the back-off distance for each axis in the <code>Preferences</code> tab (above).</p>
            	<p>Using the Set Home function in this app is the same thing as clicking on <strong>Macro#3</strong> in the Macros folder. It also the same as using the <strong>[C3] Command</strong> in the Sb4 App or in the OpenSBP fabrication language. You can use each, interchangeably. [CustomCut in Sb4 = Macro in FabMo.]</p> 

        		<div class="well" id="cartesian-message">
                  <p><strong>Your Tool's Coordinate System</strong> </p>
              		<p>Your tool moves around in a Cartesian coordinate system. The X axis (left/right) and the Y axis (front/back) are in the plane of the material. The X = 0 and Y = 0 locations are at the bottom left corner as you face the front of the tool. Moving the tool-head to the right is moving in increasing value in the X axis, moving it towards the back is moving it in increasing value the Y axis. In most uses, these coordinates are used as the tool's Base Coordinates. Temporary working coordinates can be set as offsets from these Base Coordinates. Up/Down motion of the router is the Z axis. Down is the negative direction. Zero in the Z is typically set (as a working coordinate, offset from the top stop) at the height that the cutter tip is just touching the surface of the material or the bed. To explore the coordinate system, play with the keypad on in the red, DRO panel on the right:</p>
              <button id="call-DRO-rollout" class="btn btn-primary">click here if the KEYPAD is not visble</button>
              <button id="call-DRO-hide" class="btn btn-primary">or, Hide the KEYPAD</button>
                  <p></p>
              		<p>The "Touch-and-Go App" can be very instructive in understanding the coordinate system. It is also helpful in just moving the tool around. Click the button below to try it out (restart the Fire-Up App to come back here when you are finished):</p>
              		<h4><a class="btn btn-success" id="call-touch-and-go"> start: Touch-and-Go </a></h4>
            	</div>

            <h3>Z-Zero</h3>
            	<p>Z-Zero is the short name for setting the zero location for the cutter. We are actually determining the cutter length and setting the 0 location for the tip in order to set the working location for the tip of the cutter in the Z axis. Using the Z-Zero functionality, your tool uses electrical contact with a Z-zero plate to tell exactly the distance of tip of the cutter from the top stop. It then adds the known distance from the Z-zero plate to the material surface in order to calculate an overall back-off distance from the top. We call this total distance, "current_cutter_Zoffset".</p>
            	<p>You will also see the "current_cutter_Zoffset" in the <code>Preferences</code> tab (above).</p>

        </div><!-- details pane -->


        <!-- Preferences Pane -->
        <div class="tab-pane" id="tab-preferences">
          <h2>Preference Settings for Pen Turning</h2>
	          <p>This page allows you to put your own values into variable settings for managing Pen Turning. Your Handibot comes with a number of preset variables for normal operations that you can mangae in the Fire-Up!. The page here is explicitly for Pen Turning. The initial/default values are for the use with the Projects that come with the Pen Station Package from Handibot.</p>
	          <p>Preference settings are saved using a system of "persistent variables". That is, they will be remembered even when you turn off your tool and turn it back on. There are several ways these persistent variables can be modified directly or by job files, the most direct approach is to just change them here. Make sure to hit the SAVE button after editing.</p>

       	    <!-- Responsive form for inputting preferences -->
	        <div class="row">
	             <div class="col-sm-7" style="margin-left: auto; margin-right: auto; text-align: left; ">
	              <form class="form-horizontal" id="form-jobs">
	              <h4>Variables for Setting X, Y and Z Zeroing Back-Off Distances </h4>
	              <p>These variables are used to set the distance for backoff from proximity switches or end stops. </p>
	                <div class="form-group">
	                  <label for="pref-input-xpullback" class="col-sm-3 control-label">x_backoff</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-x-pull" value=".075">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                <div class="form-group">
	                  <label for="pref-input-ypullback" class="col-sm-3 control-label">y_backoff</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-y-pull" value=".075">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
                  <div class="form-group">
                    <label for="pref-input-ypullback" class="col-sm-3 control-label">z_backoff</label>
                    <div class="col-sm-9">
                      <div class="input-group has-success">
                        <input class="form-control num-input" id="pref-input-z-pull" value=".075">
                        <span class="input-group-addon">in</span>
                      </div>
                    </div>
                  </div>
	              <h4>Variables for Setting Z-Zero </h4>
	              <p>Variable used to set Z-Zero Offset by cutter length (Macro 2 or C2). </p>
	                  <div class="form-group">
	                  <label for="job-input-zlength" class="col-sm-3 control-label">Cutter Length</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-cur-zlength" value=".25">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
                <p>Variable used to set Z-Zero Plate Thickness/Height (Macro 2 or C2; and Macro 77). </p>
	                <div class="form-group">
	                  <label for="job-input-zto-surf" class="col-sm-3 control-label">Zero Plate Thickness</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-plate-offset" value=".75">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	              <h4>Variables for Setting a Parking Location </h4>
	              <p>Setting the location for move to a Park location. You might use this at the end of jobs. There is a button for it in the Fire-Up! App. </p>
	                  <div class="form-group">
	                  <label for="job-input-xpark" class="col-sm-3 control-label">X Park Location</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-x-park" value="3">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                <div class="form-group">
	                  <label for="job-input-ypark" class="col-sm-3 control-label">Y Park Location</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-y-park" value="7">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                <div class="form-group">
	                  <label for="job-input-zpark" class="col-sm-3 control-label">Z Park Location</label>
	                  <div class="col-sm-9">
	                    <div class="input-group has-success">
	                      <input class="form-control num-input" id="pref-input-z-park" value="1.5">
	                      <span class="input-group-addon">in</span>
	                    </div>
	                  </div>
	                </div>
	                
	                <div class="form-group">
	                  <div class="col-sm-12 has-success" style="text-align: right;">
	                    <a class="btn btn-success btn-lg" id="pref-save">SAVE</a>&nbsp;&nbsp;<a href="#tab-details" class="btn btn-warning btn-lg" id="pref-cancel">CANCEL</a>
	                  </div>
	                </div>
	              </form>
	             </div> 
	          </div> <!-- row -->
        </div> <!-- tab pane -->

        <div class="tab-pane" id="tab-config">
          <h2>Additional Help Resources</h2>
            <p>Handibots are a new kind of power tool. They are intrinsically safer than manual power tools. But please read the safety information to understand the precautions you should observe with these new tools.</p>
          <h3><a class="btn btn-primary" id="get-safety"> Get Safety Information for Using Handibots </a></h3>
            <p>The Handibot Manual provides information on getting-started, setting-up, and using your Handibot.</p>
          <h3><a class="btn btn-primary" id="get-manual"> Get the Handibot Manual </a></h3>
            <p>Additional resources and help are available on the Handibot User Forum.</p>
          <h3><a class="btn btn-primary" id="go-forum"> Handibot Forum </a></h3>
          
          <hr width = "90%" noshade>
          <hr width = "90%" noshade>
            
          <h3>System Configuration Information to Share with Tech Support</h3>
            <p>The following is a listing of the current, system-wide configuration tree for the FabMo digital fabrication platform that is running on your Handibot. It can be useful for diagnostics:</p>
            <div class="well" id="config-system-config">
              <em>On a live Fabmo system, system configuration information would appear here.</em>
            </div>
        </div>
      </div> <!-- tab content -->
    </div><!-- container -->

    <script src="js/lib/jquery.js"></script>
    <script src="js/lib/bootstrap.min.js"></script>
    <script src="js/lib/fabmo.js"></script>
  	<script type="text/javascript">
  		var fabmo = new FabMoDashboard();
  	</script>
    <script src="js/control.js"></script>
    <script src="js/jobfile.js"></script>
    <script src="js/preferences.js"></script>
    <script src="js/helptab.js"></script>
    <script src="js/actions.js"></script>

    <script type="text/javascript">
        // Prevent a stray enter key from inadvertently submitting a form (and setting the tool in motion!)
        $(document).ready(function() {
          fabmo.getAppConfig(function(err,config){
              var doclength = config.doclength || "long";
              that = doclength;
              if(that==='short') {
                $('#short').prop("checked", true);
              }
              else {
                $('#long').prop("checked", true);
              }
              updateConsolidation();
            $(window).keydown(function(event){
              if(event.keyCode == 13) {
                event.preventDefault();
                return false;
              }
            });
            $('#doclength').change(function(){
                that = $('input[name="doclength"]:checked').val();
                updateConsolidation();
              });
          });
        });
    </script>
  </body>
</html>
